package com.newbound.robot.published;import java.util.Enumeration;import java.util.Hashtable;import java.util.Iterator;import org.json.JSONObject;import com.newbound.robot.BotBase;import com.newbound.robot.MetaBot;import com.newbound.robot.published.discord.Bot;public class DiscordBot extends com.newbound.robot.MetaBot {	Hashtable<String, Bot> BOTS = new Hashtable();		public DiscordBot()	{		super();				DB = "discord";		ID = "pvkwmz164b3008ad5p26b3";//		LIBRARIES = new String[]{ "discord" };	}		public String getServiceName() 	{		return "discord";	}	@Override	public void init() throws Exception 	{		super.init();				try		{			JSONObject ja = MetaBot.getMetaBot().getData("runtime", "discordbots").getJSONObject("data");			Iterator<String> i = ja.keys();			while (i.hasNext()) try			{				JSONObject jo = ja.getJSONObject(i.next());				Bot b = new Bot(jo.getString("name"), jo.getString("group"), jo.getString("token"), jo.getString("lib"), jo.getString("ctl"));				BOTS.put(jo.getString("id"), b);			}			catch (Exception x) { x.printStackTrace(); }		}		catch (Exception x)		{			x.printStackTrace();		}	}	@Override	public String handleShutdown(Hashtable params) throws Exception 	{		Enumeration<Bot> e = BOTS.elements();		while (e.hasMoreElements()) e.nextElement().die();		BOTS = null;				return super.handleShutdown(params);	}		public static DiscordBot getDiscord()	{		return (DiscordBot)BotBase.getBot("discord");	}		public Bot getDiscordBot(String id) throws Exception	{		return BOTS.get(id);	}		public void startBot(String id) throws Exception	{		if (BOTS.get(id) != null) BOTS.get(id).die();				JSONObject ja = MetaBot.getMetaBot().getData("runtime", "discordbots").getJSONObject("data");		JSONObject jo = ja.getJSONObject(id);		Bot b = new Bot(jo.getString("name"), jo.getString("group"), jo.getString("token"), jo.getString("lib"), jo.getString("ctl"));		BOTS.put(jo.getString("id"), b);	}		public void stopBot(String id) throws Exception	{		if (BOTS.get(id) != null) BOTS.remove(id).die();	}}